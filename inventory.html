<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Greysonâ€™s Used Boiler Parts & Surplus</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />

  <!-- âœ¨ Add-to-Cart animation styles (safe, standalone) -->
  <style>
    .btn.add {
      position: relative;
      transition: transform .12s ease, background-color .2s ease, box-shadow .2s ease;
      will-change: transform;
    }
    .btn.add:hover { transform: translateY(-1px); }
    .btn.add:active { transform: translateY(0); }
    .btn.add.added {
      background-color: #16a34a !important;
      color: #fff !important;
      box-shadow: 0 10px 24px rgba(22,163,74,.35);
    }
    .btn.add.added::after {
      content: "âœ“";
      position: absolute;
      right: 10px;
      top: 50%;
      translate: 0 -50%;
      font-weight: 800;
      opacity: .95;
    }
    #cartCount.pulse { animation: pulseCart .35s ease; }
    @keyframes pulseCart {
      0% { transform: scale(1); }
      50% { transform: scale(1.35); }
      100% { transform: scale(1); }
    }
    .cart-button.bump { animation: cartBump .4s ease; }
    @keyframes cartBump {
      0% { transform: translateY(0); }
      25% { transform: translateY(-2px); }
      50% { transform: translateY(0); }
      75% { transform: translateY(-1px); }
      100% { transform: translateY(0); }
    }
    .add-burst {
      position: fixed;
      z-index: 9999;
      pointer-events: none;
      font-weight: 800;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(34,197,94,.10);
      color: #22c55e;
      backdrop-filter: blur(2px);
      box-shadow: 0 6px 18px rgba(34,197,94,.25);
      animation: burstUp .7s ease-out forwards;
    }
    @keyframes burstUp {
      0% { opacity: 0; transform: translateY(8px) scale(.8); }
      12% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-28px) scale(1.05); }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="container nav">
      <a class="brand" href="index.html">
        <img src="images/logo.png" alt="Greysonâ€™s Logo" class="logo">
        <span>Greysonâ€™s Used Boiler Parts & Surplus</span>
      </a>
      <nav class="menu">
        <a href="index.html">Home</a>
        <a href="inventory.html">Inventory</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
      <button class="cart-button" id="openCartBtn" aria-label="Open cart">
        ðŸ›’ <span id="cartCount" class="cart-count">0</span>
      </button>
    </div>
  </header>

  <main class="content">
    <section class="container">
      <h1>Inventory</h1>

      <div class="filters">
        <button class="chip active" data-filter="all">All</button>
        <button class="chip" data-filter="Burners">Burners</button>
        <button class="chip" data-filter="Oil Tank Parts">Oil Tank Parts</button>
        <button class="chip" data-filter="Boiler Components">Boiler Components</button>
      </div>

      <div class="grid products" id="productGrid">
        <div class="product card" data-category="Burners">
          <h3>Riello Burner RDB2.2</h3>
          <p class="muted">Pulled & cleaned. 90-day guarantee.</p>
          <div class="price">$350.00</div>
          <button class="btn add" data-id="rdb22" data-name="Riello Burner RDB2.2" data-price="350.00">Add to Cart</button>
        </div>
        <div class="product card" data-category="Oil Tank Parts">
          <h3>Suntec Pump A2VA7116</h3>
          <p class="muted">Used. Tested â€” no leaks.</p>
          <div class="price">$95.00</div>
          <button class="btn add" data-id="a2va7116" data-name="Suntec Pump A2VA7116" data-price="95.00">Add to Cart</button>
        </div>
        <div class="product card" data-category="Boiler Components">
          <h3>Honeywell Aquastat L8148E</h3>
          <p class="muted">Cleaned contacts, includes cover.</p>
          <div class="price">$120.00</div>
          <button class="btn add" data-id="l8148e" data-name="Honeywell Aquastat L8148E" data-price="120.00">Add to Cart</button>
        </div>
        <div class="product card" data-category="Burners">
          <h3>Beckett Burner AFG</h3>
          <p class="muted">Rebuilt â€” new nozzle & electrodes.</p>
          <div class="price">$275.00</div>
          <button class="btn add" data-id="afg" data-name="Beckett Burner AFG" data-price="275.00">Add to Cart</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>Â© 2025 Greysonâ€™s Used Boiler Parts & Surplus â€” Maine, USA â€¢ Serving the Northeast</p>
    </div>
  </footer>

  <!-- Keep your existing site logic -->
  <script src="js/cart.js"></script>
  <script src="js/payments.js"></script>

  <!-- Filters -->
  <script>
    document.querySelectorAll('.chip').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.chip').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const f = btn.dataset.filter;
        document.querySelectorAll('.product').forEach(p => {
          p.style.display = (f==='all' || p.dataset.category===f) ? '' : 'none';
        });
      });
    });
  </script>

  <!-- âœ¨ Add-to-Cart visual enhancements (no cart logic changes) -->
  <script>
    (function enhanceAddButtons(){
      const cartBtn = document.getElementById('openCartBtn');
      const cartCount = document.getElementById('cartCount');

      function makeBurst(evt, label="+1") {
        const b = document.createElement('div');
        b.className = 'add-burst';
        b.textContent = label;
        const rect = evt.currentTarget.getBoundingClientRect();
        const x = (evt.clientX ?? rect.left + rect.width / 2);
        const y = (evt.clientY ?? rect.top + rect.height / 2);
        b.style.left = x + 'px';
        b.style.top = y + 'px';
        document.body.appendChild(b);
        b.addEventListener('animationend', () => b.remove());
      }

      function flashAdded(btn) {
        btn.classList.add('added');
        setTimeout(() => btn.classList.remove('added'), 650);
        if (cartBtn) {
          cartBtn.classList.add('bump');
          setTimeout(() => cartBtn.classList.remove('bump'), 400);
        }
        if (cartCount) {
          cartCount.classList.add('pulse');
          setTimeout(() => cartCount.classList.remove('pulse'), 350);
        }
      }

      document.querySelectorAll('.btn.add').forEach(btn => {
        btn.addEventListener('click', evt => {
          // purely visual â€” your cart.js handles the actual add
          flashAdded(btn);
          makeBurst(evt, "+1");
        });
      });
    })();
  </script>
</body>
</html>
